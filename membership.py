import numpy as np

def getMF_WSD() :
    input_feature_top = [
            [0.0885, 0.126, 0.126 + 0.06/2, 1],
            [0.15 - 0.06, 0.156, 0.15 + 0.06, 1],
            [0.186 - 0.06/2, 0.186, 0.2385, 1]
        ],[
            [0.00537, 0.07978, 0.07978 + 0.01612/2, 1],
            [0.08784 - 0.01612, 0.08784, 0.08784 + 0.01612, 1],
            [0.0959 - 0.01612/2, 0.0959, 0.10936, 1]
        ],[
            [0.0575,0.0766, 0.0766 + 0.0109/2, 1],
            [0.082 - 0.0109, 0.082, 0.082 + 0.0109, 1],
            [0.0875 - 0.0109/2 , 0.0875, 0.1121, 1]
        ],[
            [0.05281, 0.069, 0.069 + 0.0076/2, 1],
            [0.0728 - 0.0076, 0.0728, 0.0728 + 0.0076, 1],
            [0.0766 - 0.0076/2, 0.0766, 0.0991, 1]
        ]
    input_feature_low = [
            [0.0885, 0.126, 0.126 + 0.06/4, 0.5],
            [0.15 - 0.06/2, 0.156, 0.15 + 0.06/2, 0.5],
            [0.186 - 0.06/4, 0.186, 0.2385, 0.5]
        ],[
            [0.00537, 0.07978, 0.07978 + 0.01612/4, 0.5],
            [0.08784 - 0.01612/2, 0.08784, 0.08784 + 0.01612/2, 0.5],
            [0.0959 - 0.01612/4, 0.0959, 0.10936, 0.5]
        ],[
            [0.0575,0.0766, 0.0766 + 0.0109/4, 0.5046296296296304],
            [0.082 - 0.0109*0.5332426498663612, 0.082, 0.082 + 0.0109*0.5332426498663612, 0.5332426498663612],
            [0.0875 - 0.0109/4 , 0.0875, 0.1121, 0.5618556701030918]
        ],[
            [0.05281, 0.069, 0.069 + 0.0076/5, 0.4222222222222214],
            [0.0728- 0.0076*0.45313082934920657, 0.0728, 0.0728 + 0.0076*0.45313082934920657, 0.45313082934920657],
            [0.0766 - 0.0076/4, 0.0766, 0.0991, 0.4840394364761918]
        ]
    n_rule = []
    for i in range(0,len(input_feature_top)) : 
        n_rule.append(len(input_feature_top[i]))
    return input_feature_top, input_feature_low, len(input_feature_top), n_rule


def getMF ():
    input_feature_top = [
            [0.3250, 0.5631, 1.8233, 1],
            [0.5631, 1.8233, 2.6188, 1],
            [1.8233, 2.6188, 4.076923077, 1]
        ],[
            [0.3226, 0.6028, 0.8677, 1],
            [0.6028, 0.8677, 1, 1]
        ],[
            [0,0.0164, 0.3462, 1],
            [0.0164, 0.3462, 0.7592, 1],
            [0.3462, 0.7592, 0.8, 1]
        ],[
            [0, 0.0010, 0.0423, 1],
            [0.0010, 0.0423, 0.0973, 1],
            [0.0423, 0.0973, 0.1, 1]
        ]
    input_feature_low = [
            [0.3250, 0.5631, 1.6666, 0.8757],
            [1.2477, 1.8233, 2.1866, 0.4567],
            [2.0877, 2.6188, 4.0769, 0.6676]
        ],[
            [0.3226, 0.6028, 0.7529, 0.5668],
            [0.7529, 0.8677, 1, 0.4332]
        ],[
            [0, 0.0164, 0.2764, 0.7882],
            [0.1103, 0.3462, 0.6416, 0.7153],
            [0.5542, 0.7592, 0.8, 0.4965]
        ],[
            [0, 0.0010, 0.0362, 0.8520],
            [0.0132, 0.0423, 0.0811, 0.7062],
            [0.0730, 0.0973, 0.1, 0.4419]
        ]
    n_rule = []
    for i in range(0,len(input_feature_top)) : 
        n_rule.append(len(input_feature_top[i]))
    return input_feature_top, input_feature_low, len(input_feature_top), n_rule

def getOutput (): 
    output_feature_top = [
        [0, 1, 2, 1],
        [1, 2, 3, 1]
    ]
    output_feature_low = [
        [0.5000, 1.0000, 1.5000, 1.0000],
        [1.5000, 2.0000, 2.5000, 1.0000]
    ]
    return output_feature_top, output_feature_low

def triangle(fuzzi,x) :
    [ b, m, d, h ] = fuzzi
    M = 0
    if ( x >= b and x <= m) :
        M = ( (0-h)/(b-m) ) * ( x - b )
    if ( x > m and x <= d ):
        M = h + ( h/(m-d) ) * ( x - m )
    return M

def firstMem(fuzzi,x):
    [ b, m, d, h ] = fuzzi
    M = 0
    if ( x <= m ):
        M = h
    if ( x > m and x <= d ):
        M = h + ( h/(m-d) ) * ( x-m )
    return M

def lastMem(fuzzi,x):
    [ b, m, d, h ] = fuzzi
    M = 0
    if ( x >= b and x <= m):
        M = ( (0-h)/(b-m) ) * ( x-b )
    if (x > m  and x <= d):
        M = h
    return M
